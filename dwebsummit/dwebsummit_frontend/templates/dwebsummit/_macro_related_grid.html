{# a macro to render an array of people objects #}

{% macro related_grid(pages, include_people=True) -%}
  {% for page in pages %}
    <a class="related-page" href="{{page.page_url_abs}}">
      {% if page.has_grid_image %}
        <div class="related-grid-image render-pixel" style="background-image:url({{page.grid_image_url}});"></div>
      {% else %}
        <div class="related-grid-image" style="background-image:url(/static/img/grid-placeholder.svg);"></div>
      {% endif %}
      <div class="related-page-title">
        {{page.title}}
        {% if include_people %}
          {% set person_list = page.person_list %}
          {% if person_list %}
            <div class="muted">{{page.person_list}}</div>
          {% endif %}
        {% endif %}
      </div>
    </a>
  {% endfor %}
{%- endmacro %}
