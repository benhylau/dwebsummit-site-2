{% import 'dwebsummit/_macro_people_grid.html' as macro_people_grid %}
<div class="science-fair">
  {% for row in projects %}
    <div class="science-fair-row">
      <div class="js-bio-unit">
        <div class="science-fair-title">{{row.title}}</div>
        {% if row.short_description %}<div class="science-fair-short-description">{{row.short_description|urlize}}</div>{% endif %}
        {% if row.full_description %}<div class="science-fair-full-description">{{row.full_description|safe|truncate(300, "")}} {% if row.full_description.length > 300 %}<span class="science-fair-read-more">Read more.</span>{% endif %}</div>{% endif %}

        <div class="hidden-bio">
          <div>
            <div class="modal-name science-fair-title">{{row.title}}</div>
            <div class="modal-bio">
              {% if row.short_description %}<div class="science-fair-short-description">{{row.short_description|urlize}}</div>{% endif %}
              {% if row.full_description %}<div>{{row.full_description|safe}}</div>{% endif %}
            </div>
          </div>
        </div>
      </div>

      {% if row.people.all().count() > 0 %}
        {{ macro_people_grid.people_grid(row.people) }}
      {% endif %}
    </div>
  {% endfor %}
</div>
